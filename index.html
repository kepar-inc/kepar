<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kepar Developments | Building the Future</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="scroll-progress-bar"></div>
    <!-- Loading Screen -->
    <div id="loading-screen">
        <div class="loading-logo">Kepar</div>
        <h2 class="loading-subtitle">Planning your Retirement</h2>
        <div class="loading-bar-container">
            <div class="loading-bar" id="loading-bar"></div>
        </div>
    </div>
    
    <!-- Transparent Header -->
    <header id="main-header">
        <div class="container header-container">
            <a href="#" class="logo">
                <img src="images/kepar-logo.png" alt="Kepar Logo" class="logo-img">
                <span class="logo-text">KEPAR</span>
            </a>
            <nav>
                <ul>
                    <li><a href="#projects">Projects</a></li>
                    <li><a href="#about">About</a></li>
                    <li><a href="#impact">Impact</a></li>
                    <li><a href="#contact">Contact</a></li>
                </ul>
            </nav>
        </div>
    </header>
    
    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <h1>Building the Future with Kepar</h1>
            <p>Transforming communities through innovative development projects that create lasting value and opportunity.</p>
            <a href="#projects" class="btn">View Our Projects</a>
        </div>
    </section>
    
    <!-- Rest of your content... -->
    <section id="kepar-scroll-merge" class="scroll-merge-section">
      <div class="scroll-merge-inner">
        <h1 class="scroll-merge-heading">Your one stop crew to plan your retirement</h1>
        <div class="scroll-merge-cards">
          <div class="merge-card card-left">
        <ul>
          <li>Lawn Care</li>
        </ul>
      </div>
      <div class="merge-card card-right">
        <ul>
          <li>Construction</li>
        </ul>
      </div>
      <div class="center-card">
        <span>Your Kepar</span>
        <svg class="center-border" width="100%" height="100%" viewBox="0 0 320 320" fill="none">
          <rect x="10" y="10" width="300" height="300" rx="40" stroke="#0056b3" stroke-width="4"
            stroke-dasharray="1200" stroke-dashoffset="1200"/>
        </svg>
      </div>
    </div>
      </div>
    </section>
    
    <section id="projects" class="projects">
        <div class="container">
            <div class="section-title">
                <h2>Our Developments</h2>
                <p>Kepar is proud to be transforming neighborhoods across the region with our innovative approach to community development.</p>
            </div>
            
            <div class="project-grid">
                <div class="project-card">
                    <div class="project-img">
                        <img src="https://images.unsplash.com/photo-1487958449943-2429e8be8625?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80" alt="Mixed-Use Development">
                    </div>
                    <div class="project-info">
                        <h3>Downtown Revitalization</h3>
                        <p>A mixed-use development bringing new housing, retail, and public spaces to the city center.</p>
                        <a href="#" class="btn">Learn More</a>
                    </div>
                </div>
                
                <div class="project-card">
                    <div class="project-img">
                        <img src="https://images.unsplash.com/photo-1560520031-3a4dc4e9de0c?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80" alt="Affordable Housing">
                    </div>
                    <div class="project-info">
                        <h3>Affordable Housing Initiative</h3>
                        <p>300 units of quality affordable housing with community amenities and services.</p>
                        <a href="#" class="btn">Learn More</a>
                    </div>
                </div>
                
                <div class="project-card">
                    <div class="project-img">
                        <img src="https://images.unsplash.com/photo-1479839672679-a46483c0e7c8?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80" alt="Commercial Space">
                    </div>
                    <div class="project-info">
                        <h3>Innovation District</h3>
                        <p>Commercial spaces designed for tech startups and creative businesses.</p>
                        <a href="#" class="btn">Learn More</a>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <section id="impact" class="stats">
        <div class="container">
            <div class="section-title">
                <h2>Our Impact</h2>
                <p>Kepar's developments create lasting value for communities through measurable results.</p>
            </div>
            
            <div class="stats-grid">
                <div class="stat-item">
                    <h3>75+</h3>
                    <p>Projects Completed</p>
                </div>
                <div class="stat-item">
                    <h3>5,000+</h3>
                    <p>Housing Units Created</p>
                </div>
                <div class="stat-item">
                    <h3>$2B+</h3>
                    <p>Invested in Communities</p>
                </div>
                <div class="stat-item">
                    <h3>10,000+</h3>
                    <p>Jobs Supported</p>
                </div>
            </div>
        </div>
    </section>
    
    <section id="about" class="about">
        <div class="container">
            <div class="about-content">
                <div class="about-img">
                    <img src="https://images.unsplash.com/photo-1600607688969-a5bfcd646154?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80" alt="Kepar Team">
                </div>
                <div class="about-text">
                    <h2>About Kepar</h2>
                    <p>Founded in 2005, Kepar has grown into one of the region's most respected development firms with a focus on creating projects that serve community needs while achieving financial sustainability.</p>
                    <p>Our team brings together decades of experience in real estate development, urban planning, architecture, and community engagement to create spaces that people love.</p>
                    <p>We believe development should be about more than just buildings - it's about creating opportunities, strengthening neighborhoods, and building a better future for all residents.</p>
                    <a href="#" class="btn">Learn More About Us</a>
                </div>
            </div>
        </div>
    </section>
    
    <footer id="contact">
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>Kepar</h3>
                    <ul>
                        <li><a href="#projects">Our Projects</a></li>
                        <li><a href="#about">About Us</a></li>
                        <li><a href="#impact">Our Impact</a></li>
                        <li><a href="#contact">Contact</a></li>
                    </ul>
                </div>
                
                <div class="footer-column">
                    <h3>Contact Us</h3>
                    <ul>
                        <li>Email: info@kepar.com</li>
                        <li>Phone: (123) 456-7890</li>
                        <li>Address: 123 Kepar St, Developtown, DE 19999</li>
                    </ul>
                </div>
                
                <div class="footer-column">
                    <h3>Follow Us</h3>
                    <ul>
                        <li><a href="#">Facebook</a></li>
                        <li><a href="#">Twitter</a></li>
                        <li><a href="#">LinkedIn</a></li>
                        <li><a href="#">Instagram</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="copyright">
                &copy; 2023 Kepar. All rights reserved.
            </div>
        </div>
    </footer>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
    <script>
      // Animate loading bar from center outward
      document.addEventListener('DOMContentLoaded', function() {
        var bar = document.getElementById('loading-bar');
        var progress = 0;
        var interval = setInterval(function() {
          if (progress < 80) {
            progress += Math.random() * 8 + 2;
          } else if (progress < 98) {
            progress += Math.random() * 1.5 + 0.5;
          } else {
            progress = 100;
            clearInterval(interval);
          }
          if (progress > 100) progress = 100;
          bar.style.width = (progress * 2.4) + 'px'; // 240px max width
        }, 80);
      });

      window.addEventListener('load', function() {
        var loadingScreen = document.getElementById('loading-screen');
        var bar = document.getElementById('loading-bar');
        // Ensure bar fills to 100% before fade out
        setTimeout(function() {
          bar.style.width = '240px';
          setTimeout(function() {
            loadingScreen.style.opacity = '0';
            setTimeout(function() {
              loadingScreen.style.display = 'none';
            }, 500); // matches the CSS transition
          }, 400); // allow bar to visually fill
        }, 1500); // keep loading screen for at least 1.5s
      });

      // Header scroll background toggle after hero section
      window.addEventListener('scroll', function() {
        var header = document.getElementById('main-header');
        var hero = document.querySelector('.hero');
        var heroBottom = hero.offsetTop + hero.offsetHeight;
        if (window.scrollY >= heroBottom) {
          header.classList.add('scrolled');
        } else {
          header.classList.remove('scrolled');
        }
      });

      // Scroll progress bar
      window.addEventListener('scroll', function() {
        var scrollBar = document.getElementById('scroll-progress-bar');
        var scrollTop = window.scrollY || document.documentElement.scrollTop;
        var docHeight = document.documentElement.scrollHeight - window.innerHeight;
        var scrolled = docHeight > 0 ? (scrollTop / docHeight) * 100 : 0;
        scrollBar.style.width = scrolled + '%';
      });

      // Scroll-triggered heading and card merge animation
      document.addEventListener('DOMContentLoaded', function() {
        const section = document.querySelector('.scroll-merge-section');
        const heading = section.querySelector('.scroll-merge-heading');
        const cards = Array.from(section.querySelectorAll('.merge-card:not(.final-card)'));
        const finalCard = section.querySelector('.merge-card.final-card');

        if (section && heading && cards.length && finalCard) {
          gsap.registerPlugin(ScrollTrigger);

          // Set initial card positions (off-screen)
          const cardOffsets = [
            {x: -350, y: -120},
            {x: 350, y: -120},
            {x: -350, y: 120},
            {x: 350, y: 120},
            {x: 0, y: 220}
          ];
          gsap.set(cards, (i) => ({
            opacity: 0,
            scale: 0.7,
            x: cardOffsets[i] ? cardOffsets[i].x : 0,
            y: cardOffsets[i] ? cardOffsets[i].y : 0,
            zIndex: 1
          }));
          gsap.set(finalCard, { opacity: 0, scale: 0.7, zIndex: 2 });

          // Timeline for scroll
          let tl = gsap.timeline({
            scrollTrigger: {
              trigger: section,
              start: "top top",
              end: "+=600",
              scrub: true,
              pin: true,
              anticipatePin: 1,
            }
          });

          // Heading zooms out and fades
          tl.to(heading, {
            scale: 0.5,
            opacity: 0,
            duration: 0.5,
            ease: "power3.inOut"
          }, 0);

          // Cards fly in and converge to center
          cards.forEach((card, i) => {
            tl.to(card, {
              opacity: 1,
              scale: 1,
              x: 0,
              y: 0,
              duration: 0.5,
              ease: "power3.out"
            }, 0.1 + i*0.13);
          });

          // Cards merge and fade out, final card appears
          tl.to(cards, {
            scale: 0.95,
            opacity: 0.2,
            stagger: 0.07,
            duration: 0.5,
            ease: "power3.inOut"
          }, "+=0.4");

          tl.to(finalCard, {
            opacity: 1,
            scale: 1,
            duration: 0.6,
            ease: "power3.out"
          }, "-=0.3");

          tl.to(cards, {
            opacity: 0,
            duration: 0.2
          }, "-=0.2");
        }
      });
    </script>
    <script>
  document.addEventListener('DOMContentLoaded', function() {
    const section = document.querySelector('.scroll-merge-section');
    const heading = section.querySelector('.scroll-merge-heading');
    const cardLeft = section.querySelector('.merge-card.card-left');
    const cardRight = section.querySelector('.merge-card.card-right');
    const centerCard = section.querySelector('.center-card');
    const centerBorder = section.querySelector('.center-border rect');

    if (section && heading && cardLeft && cardRight && centerCard && centerBorder) {
      gsap.registerPlugin(ScrollTrigger);

      // Set cards at left and right edges, invisible
      gsap.set(cardLeft, {
        opacity: 0,
        scale: 0.7,
        x: -window.innerWidth / 2 - 150,
        y: 0,
        zIndex: 1
      });
      gsap.set(cardRight, {
        opacity: 0,
        scale: 0.7,
        x: window.innerWidth / 2 + 150,
        y: 0,
        zIndex: 1
      });
      gsap.set(centerCard, {
        opacity: 0,
        scale: 0.5,
        zIndex: 2
      });
      gsap.set(centerBorder, {strokeDashoffset: 1200});

      // Timeline for scroll
      let tl = gsap.timeline({
        scrollTrigger: {
          trigger: section,
          start: "top top",
          end: "+=500",
          scrub: true,
          pin: true,
          anticipatePin: 1,
        }
      });

      // Heading zooms out and fades
      tl.to(heading, {
        scale: 0.5,
        opacity: 0,
        duration: 0.4,
        ease: "power3.inOut"
      }, 0);

      // Center card appears and grows after heading disappears
      tl.to(centerCard, {
        opacity: 1,
        scale: 1,
        duration: 0.5,
        ease: "power3.out"
      }, 0.4);

      // Center card border draws as cards come in
      tl.to(centerBorder, {
        strokeDashoffset: 0,
        duration: 0.7,
        ease: "power2.inOut"
      }, 0.5);

      // Left card flies in from left edge to center, disappears behind center card
      tl.to(cardLeft, {
        opacity: 1,
        scale: 1,
        x: 0,
        y: 0,
        duration: 0.7,
        ease: "power3.out"
      }, 0.6)
      .to(cardLeft, {
        opacity: 0,
        duration: 0.2,
        ease: "power3.in"
      }, 1.2);

      // Right card flies in from right edge to center, disappears behind center card
      tl.to(cardRight, {
        opacity: 1,
        scale: 1,
        x: 0,
        y: 0,
        duration: 0.7,
        ease: "power3.out"
      }, 0.8)
      .to(cardRight, {
        opacity: 0,
        duration: 0.2,
        ease: "power3.in"
      }, 1.4);
    }
  });
</script>
</body>
</html>